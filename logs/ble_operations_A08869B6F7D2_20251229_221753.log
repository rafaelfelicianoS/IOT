2025-12-29 22:17:53.395 | INFO     | BLE Operation Logger iniciado: ble_operations_A08869B6F7D2_20251229_221753.log
2025-12-29 22:17:53.395 | INFO     | Scanner BLE iniciado: hci0 (A0:88:69:B6:F7:D2)
2025-12-29 22:17:53.396 | INFO     | BLE Client iniciado
2025-12-29 22:17:53.396 | INFO     | BLE Client criado
2025-12-29 22:17:53.396 | INFO     | NeighborDiscovery inicializado: scan_interval=30s, scan_duration=5000ms, timeout=120s
2025-12-29 22:17:53.397 | INFO     | NeighborDiscovery criado
2025-12-29 22:17:53.397 | INFO     | Link Manager iniciado (my_nid=570c0869...)
2025-12-29 22:17:53.398 | INFO     | LinkManager criado
2025-12-29 22:17:54.784 | INFO     | A iniciar scan de vizinhos...
2025-12-29 22:17:54.785 | DEBUG    | A limpar cache de scan BLE...
2025-12-29 22:17:54.991 | DEBUG    | Cache de scan limpo
2025-12-29 22:17:54.992 | INFO     | A fazer scan BLE durante 5000ms...
2025-12-29 22:17:54.994 | INFO     | [OP-20251229_221753-0001] SCAN_START | Duration: 5000ms | Filter_IoT: True
2025-12-29 22:18:00.015 | DEBUG    |   Encontrado: IoT-Node (E0:D3:62:D6:EE:A0) RSSI: -51 dBm
2025-12-29 22:18:00.016 | INFO     | Scan conclu√≠do: 1 dispositivos encontrados
2025-12-29 22:18:00.017 | INFO     | [OP-20251229_221753-0002] SCAN_RESULT | Devices_Found: 1
2025-12-29 22:18:00.017 | DEBUG    | [OP-20251229_221753-0002]   Device_1: Name: IoT-Node | Address: E0:D3:62:D6:EE:A0 | RSSI: -51 dBm | Services: 1
2025-12-29 22:18:00.017 | INFO     | Scan conclu√≠do: 1 dispositivos IoT encontrados
2025-12-29 22:18:00.017 | DEBUG    | A conectar a E0:D3:62:D6:EE:A0 para ler DeviceInfo...
2025-12-29 22:18:00.019 | DEBUG    | BLEConnection criada para E0:D3:62:D6:EE:A0
2025-12-29 22:18:00.019 | INFO     | A conectar a E0:D3:62:D6:EE:A0...
2025-12-29 22:18:00.020 | INFO     | [OP-20251229_221753-0003] CONNECT_ATTEMPT | Local: A0:88:69:B6:F7:D2 | Remote: E0:D3:62:D6:EE:A0
2025-12-29 22:18:03.823 | INFO     | ‚úÖ Conectado a E0:D3:62:D6:EE:A0
2025-12-29 22:18:03.824 | INFO     | [OP-20251229_221753-0004] CONNECT_SUCCESS | Remote: E0:D3:62:D6:EE:A0 | Time: 3798.51ms
2025-12-29 22:18:03.826 | DEBUG    | ‚úÖ Conex√£o estabelecida. Opera√ß√µes GATT usar√£o D-Bus se necess√°rio.
2025-12-29 22:18:03.826 | DEBUG    | [OP-20251229_221753-0005] READ_REQUEST | Remote: E0:D3:62:D6:EE:A0 | Service: 12340000-0000-1000-8000-00805f9b34fb | Char: 12340002-0000-1000-8000-00805f9b34fb
2025-12-29 22:18:04.326 | DEBUG    | Read 12340002-0000-1000-8000-00805f9b34fb: 18 bytes
2025-12-29 22:18:04.327 | INFO     | [OP-20251229_221753-0006] READ_RESPONSE | Remote: E0:D3:62:D6:EE:A0 | Char: 12340002-0000-1000-8000-00805f9b34fb | Data: 18 bytes | Hex: 793a60b822c74b829d45ace01e2009010100 | ASCII: y:`.".K..E... ....
2025-12-29 22:18:04.328 | INFO     | Vizinho descoberto: E0:D3:62:D6:EE:A0 (793a60b8...) hop=1 rssi=-51dBm type=node disconnected seen=0.0s ago
2025-12-29 22:18:06.336 | INFO     | Desconectado de E0:D3:62:D6:EE:A0
2025-12-29 22:18:06.338 | INFO     | [OP-20251229_221753-0007] DISCONNECT | Remote: E0:D3:62:D6:EE:A0 | Reason: normal
2025-12-29 22:18:06.339 | INFO     | Novo vizinho adicionado: E0:D3:62:D6:EE:A0
2025-12-29 22:18:16.562 | INFO     | A conectar a vizinho E0:D3:62:D6:EE:A0...
2025-12-29 22:18:16.564 | DEBUG    | BLEConnection criada para E0:D3:62:D6:EE:A0
2025-12-29 22:18:16.565 | INFO     | A conectar a E0:D3:62:D6:EE:A0...
2025-12-29 22:18:16.566 | INFO     | [OP-20251229_221753-0008] CONNECT_ATTEMPT | Local: A0:88:69:B6:F7:D2 | Remote: E0:D3:62:D6:EE:A0
2025-12-29 22:18:20.245 | INFO     | ‚úÖ Conectado a E0:D3:62:D6:EE:A0
2025-12-29 22:18:20.246 | INFO     | [OP-20251229_221753-0009] CONNECT_SUCCESS | Remote: E0:D3:62:D6:EE:A0 | Time: 3676.07ms
2025-12-29 22:18:20.248 | DEBUG    | ‚úÖ Conex√£o estabelecida. Opera√ß√µes GATT usar√£o D-Bus se necess√°rio.
2025-12-29 22:18:20.248 | INFO     | Link criado: Link[E0:D3:62:D6:EE:A0] -> NODE NID=793a60b8... hop=1 (UPLINK)
2025-12-29 22:18:20.249 | INFO     | ‚úÖ Uplink definido: Link[E0:D3:62:D6:EE:A0] -> NODE NID=793a60b8... hop=1
2025-12-29 22:18:20.251 | DEBUG    | HeartbeatMonitor criado: interval=5.0s, max_missed=3
2025-12-29 22:18:20.476 | INFO     | ‚úÖ Subscrito a notifica√ß√µes: 12340001-0000-1000-8000-00805f9b34fb
2025-12-29 22:18:20.477 | INFO     | [OP-20251229_221753-0010] SUBSCRIBE_SUCCESS | Remote: E0:D3:62:D6:EE:A0 | Char: 12340001-0000-1000-8000-00805f9b34fb
2025-12-29 22:18:20.479 | INFO     | üíì HeartbeatMonitor iniciado: verifica√ß√£o a cada 5.0s, timeout ap√≥s 3 misses
2025-12-29 22:18:20.480 | INFO     | üíì Monitoramento de heartbeat iniciado
2025-12-29 22:18:20.480 | INFO     | ‚úÖ Conectado a E0:D3:62:D6:EE:A0 e uplink estabelecido
2025-12-29 22:18:20.481 | DEBUG    | Vizinho E0:D3:62:D6:EE:A0 marcado como conectado
2025-12-29 22:18:23.280 | INFO     | [OP-20251229_221753-0011] NOTIFICATION | Remote: E0:D3:62:D6:EE:A0 | Char: 12340001-0000-1000-8000-00805f9b34fb | Data: 158 bytes | Hex: 793a60b822c74b829d45ace01e200901793a60b822c74b829d45ace01e20090102010000002d0000000000000000000000000000000000000000000000000000 | ASCII: y:`.".K..E... ..y:`.".K..E... .......-.......................... [TRUNCATED]
2025-12-29 22:18:23.280 | DEBUG    | üì¶ Pacote recebido via E0:D3:62:D6:EE:A0: 793a60b8... ‚Üí 793a60b8... (type=HEARTBEAT, seq=45)
2025-12-29 22:18:23.281 | DEBUG    | üíì Heartbeat recebido: seq=45
2025-12-29 22:18:23.281 | DEBUG    | üíì Heartbeat recebido (seq=45)
2025-12-29 22:18:28.279 | INFO     | [OP-20251229_221753-0012] NOTIFICATION | Remote: E0:D3:62:D6:EE:A0 | Char: 12340001-0000-1000-8000-00805f9b34fb | Data: 158 bytes | Hex: 793a60b822c74b829d45ace01e200901793a60b822c74b829d45ace01e20090102010000002e0000000000000000000000000000000000000000000000000000 | ASCII: y:`.".K..E... ..y:`.".K..E... .................................. [TRUNCATED]
2025-12-29 22:18:28.279 | DEBUG    | üì¶ Pacote recebido via E0:D3:62:D6:EE:A0: 793a60b8... ‚Üí 793a60b8... (type=HEARTBEAT, seq=46)
2025-12-29 22:18:28.279 | DEBUG    | üíì Heartbeat recebido: seq=46
2025-12-29 22:18:28.279 | DEBUG    | üíì Heartbeat recebido (seq=46)
2025-12-29 22:18:33.284 | INFO     | [OP-20251229_221753-0013] NOTIFICATION | Remote: E0:D3:62:D6:EE:A0 | Char: 12340001-0000-1000-8000-00805f9b34fb | Data: 158 bytes | Hex: 793a60b822c74b829d45ace01e200901793a60b822c74b829d45ace01e20090102010000002f0000000000000000000000000000000000000000000000000000 | ASCII: y:`.".K..E... ..y:`.".K..E... ......./.......................... [TRUNCATED]
2025-12-29 22:18:33.285 | DEBUG    | üì¶ Pacote recebido via E0:D3:62:D6:EE:A0: 793a60b8... ‚Üí 793a60b8... (type=HEARTBEAT, seq=47)
2025-12-29 22:18:33.286 | DEBUG    | üíì Heartbeat recebido: seq=47
2025-12-29 22:18:33.286 | DEBUG    | üíì Heartbeat recebido (seq=47)
2025-12-29 22:18:40.480 | WARNING  | ‚ö†Ô∏è  Heartbeat perdido! Contador: 1/3 (√∫ltimo h√° 7.2s)
2025-12-29 22:18:45.481 | WARNING  | ‚ö†Ô∏è  Heartbeat perdido! Contador: 2/3 (√∫ltimo h√° 12.2s)
2025-12-29 22:18:50.483 | WARNING  | ‚ö†Ô∏è  Heartbeat perdido! Contador: 3/3 (√∫ltimo h√° 17.2s)
2025-12-29 22:18:50.484 | ERROR    | ‚ùå TIMEOUT DE HEARTBEAT! Perdidos 3 heartbeats consecutivos
2025-12-29 22:18:50.486 | ERROR    | üíî TIMEOUT DE HEARTBEAT DETETADO!
2025-12-29 22:18:50.488 | ERROR    |    A√ß√µes: desconectar uplink + todos os downlinks
2025-12-29 22:18:50.489 | INFO     |    A desconectar uplink: E0:D3:62:D6:EE:A0
2025-12-29 22:18:52.277 | INFO     | Desconectado de E0:D3:62:D6:EE:A0
2025-12-29 22:18:52.279 | INFO     | [OP-20251229_221753-0014] DISCONNECT | Remote: E0:D3:62:D6:EE:A0 | Reason: normal
2025-12-29 22:18:52.279 | WARNING  | ‚ö†Ô∏è  Uplink desconectado!
2025-12-29 22:18:52.280 | INFO     | HeartbeatMonitor parado
2025-12-29 22:18:52.280 | WARNING  | ‚ö†Ô∏è  Todos os links desconectados devido a timeout de heartbeat
2025-12-29 22:18:52.281 | INFO     | üîç A procurar novo uplink automaticamente...
2025-12-29 22:18:52.281 | ERROR    | ‚ùå Erro ao procurar novo uplink: 'NeighborDiscovery' object has no attribute 'scan_neighbors'
2025-12-29 22:18:57.559 | INFO     | A limpar recursos...
2025-12-29 22:18:57.560 | INFO     | ‚úÖ Recursos limpos
