2026-01-04 15:57:52.877 | INFO     | BLE Operation Logger iniciado: ble_operations_5800E366747C_20260104_155752.log
2026-01-04 15:57:52.877 | INFO     | Scanner BLE iniciado: hci0 (58:00:E3:66:74:7C)
2026-01-04 15:57:52.877 | INFO     | BLE Client iniciado
2026-01-04 15:57:52.877 | DEBUG    | FragmentReassembler inicializado
2026-01-04 15:57:52.877 | INFO     | ReplayProtection iniciado (window_size=100)
2026-01-04 15:57:52.878 | INFO     | üîÄ Router Daemon inicializado para NID=a40543fa...
2026-01-04 15:57:52.878 | DEBUG    | ‚úÖ Send callback configurado
2026-01-04 15:57:52.878 | DEBUG    | ‚úÖ Handler registado para MessageType(1)
2026-01-04 15:57:52.879 | DEBUG    | ‚úÖ Handler registado para MessageType(2)
2026-01-04 15:57:52.879 | INFO     | IoT Node inicializado (adapter=hci0)
2026-01-04 15:57:52.879 | INFO     | ‚úÖ Router Daemon integrado
2026-01-04 15:57:52.879 | INFO     | A configurar GATT Server...
2026-01-04 15:57:52.881 | INFO     | Application criada: /
2026-01-04 15:57:52.881 | INFO     | Service criado: /0 (UUID: 12340000-0000-1000-8000-00805f9b34fb, primary: True)
2026-01-04 15:57:52.881 | INFO     | A criar IoTNetworkService...
2026-01-04 15:57:52.882 | DEBUG    | Characteristic criada: /0/char0 (UUID: 12340001-0000-1000-8000-00805f9b34fb, flags: ['write', 'notify'])
2026-01-04 15:57:52.882 | INFO     | NetworkPacketCharacteristic criada
2026-01-04 15:57:52.882 | DEBUG    | Characteristic criada: /0/char1 (UUID: 12340002-0000-1000-8000-00805f9b34fb, flags: ['read'])
2026-01-04 15:57:52.882 | INFO     | DeviceInfoCharacteristic criada: NID=a40543fa..., type=node
2026-01-04 15:57:52.883 | DEBUG    | Characteristic criada: /0/char2 (UUID: 12340003-0000-1000-8000-00805f9b34fb, flags: ['read', 'notify'])
2026-01-04 15:57:52.883 | INFO     | NeighborTableCharacteristic criada
2026-01-04 15:57:52.884 | DEBUG    | Characteristic criada: /0/char3 (UUID: 12340004-0000-1000-8000-00805f9b34fb, flags: ['write', 'indicate'])
2026-01-04 15:57:52.884 | INFO     | AuthCharacteristic criada
2026-01-04 15:57:52.885 | DEBUG    | Characteristic adicionada a /0: /0/char0
2026-01-04 15:57:52.885 | DEBUG    | Characteristic adicionada a /0: /0/char1
2026-01-04 15:57:52.885 | DEBUG    | Characteristic adicionada a /0: /0/char2
2026-01-04 15:57:52.885 | DEBUG    | Characteristic adicionada a /0: /0/char3
2026-01-04 15:57:52.885 | INFO     | ‚úÖ IoTNetworkService criado com sucesso!
2026-01-04 15:57:52.885 | INFO     | Service adicionado √† aplica√ß√£o: /0
2026-01-04 15:57:52.886 | DEBUG    | Packet callback definido
2026-01-04 15:57:52.886 | DEBUG    | Auth callback definido
2026-01-04 15:57:52.886 | INFO     | Advertisement criado: /org/bluez/iot/advertisement0 (type: peripheral)
2026-01-04 15:57:52.888 | INFO     | ‚úÖ Service UUID adicionado ao advertising: 12340000-0000-1000-8000-00805f9b34fb
2026-01-04 15:57:52.889 | INFO     |    Lista atual de UUIDs: ['12340000-0000-1000-8000-00805f9b34fb']
2026-01-04 15:57:52.890 | DEBUG    | Local name definido: IoT-Node-a40543fa
2026-01-04 15:57:52.890 | DEBUG    | Manufacturer data adicionado: ID=65535
2026-01-04 15:57:52.890 | INFO     | üîÑ Advertising cont√≠nuo configurado (duration=0)
2026-01-04 15:57:52.891 | INFO     | ‚úÖ GATT Server configurado
2026-01-04 15:57:52.891 | INFO     | A iniciar GATT Server...
2026-01-04 15:57:52.892 | INFO     | ‚úÖ GATT Server iniciado em thread separada
2026-01-04 15:57:52.893 | INFO     | ‚úÖ Node Device iniciado - CLI interativo pronto
2026-01-04 15:57:52.895 | DEBUG    | GetManagedObjects called
2026-01-04 15:57:52.896 | DEBUG    | GetManagedObjects returning 5 objects
2026-01-04 15:57:52.898 | INFO     | ‚úÖ GATT application registada!
2026-01-04 15:57:52.898 | DEBUG    | GetAll called on /org/bluez/iot/advertisement0
2026-01-04 15:57:52.899 | INFO     | üì° Advertising com ServiceUUIDs: ['12340000-0000-1000-8000-00805f9b34fb']
2026-01-04 15:57:53.003 | INFO     | ‚úÖ Advertisement registado!
2026-01-04 15:59:25.777 | INFO     | A fazer scan BLE durante 5000ms...
2026-01-04 15:59:25.779 | INFO     | [OP-20260104_155752-0001] SCAN_START | Duration: 5000ms | Filter_IoT: True
2026-01-04 15:59:30.812 | DEBUG    |   Encontrado: ubuntors #1 (E0:D3:62:D6:EE:A0) RSSI: -56 dBm
2026-01-04 15:59:30.814 | INFO     | Scan conclu√≠do: 1 dispositivos encontrados
2026-01-04 15:59:30.816 | INFO     | [OP-20260104_155752-0002] SCAN_RESULT | Devices_Found: 1
2026-01-04 15:59:30.818 | DEBUG    | [OP-20260104_155752-0002]   Device_1: Name: ubuntors #1 | Address: E0:D3:62:D6:EE:A0 | RSSI: -56 dBm | Services: 3
2026-01-04 15:59:30.819 | INFO     | A fazer scan BLE durante 5000ms...
2026-01-04 15:59:30.820 | INFO     | [OP-20260104_155752-0003] SCAN_START | Duration: 5000ms | Filter_IoT: True
2026-01-04 15:59:35.839 | INFO     | Scan conclu√≠do: 0 dispositivos encontrados
2026-01-04 15:59:35.839 | INFO     | [OP-20260104_155752-0004] SCAN_RESULT | Devices_Found: 0
2026-01-04 15:59:40.341 | INFO     | A conectar ao Sink E0:D3:62:D6:EE:A0...
2026-01-04 15:59:40.342 | DEBUG    | Peripheral E0:D3:62:D6:EE:A0 n√£o est√° em cache, fazendo scan r√°pido...
2026-01-04 15:59:42.352 | DEBUG    | Peripheral E0:D3:62:D6:EE:A0 encontrado ap√≥s scan
2026-01-04 15:59:42.353 | DEBUG    | BLEConnection criada para E0:D3:62:D6:EE:A0
2026-01-04 15:59:42.353 | INFO     | A conectar a E0:D3:62:D6:EE:A0...
2026-01-04 15:59:42.356 | INFO     | [OP-20260104_155752-0005] CONNECT_ATTEMPT | Local: 58:00:E3:66:74:7C | Remote: E0:D3:62:D6:EE:A0
2026-01-04 16:00:09.442 | ERROR    | Erro ao conectar a E0:D3:62:D6:EE:A0: The requested operation has failed.
2026-01-04 16:00:09.444 | ERROR    | [OP-20260104_155752-0006] CONNECT_FAILED | Remote: E0:D3:62:D6:EE:A0 | Error: The requested operation has failed.
2026-01-04 16:00:09.445 | DEBUG    | Conex√£o falhou, tentando refresh do cache e retry...
2026-01-04 16:00:11.455 | DEBUG    | Peripheral refreshed, tentando conectar novamente...
2026-01-04 16:00:11.456 | DEBUG    | BLEConnection criada para E0:D3:62:D6:EE:A0
2026-01-04 16:00:11.457 | INFO     | A conectar a E0:D3:62:D6:EE:A0...
2026-01-04 16:00:11.460 | INFO     | [OP-20260104_155752-0007] CONNECT_ATTEMPT | Local: 58:00:E3:66:74:7C | Remote: E0:D3:62:D6:EE:A0
2026-01-04 16:00:49.530 | ERROR    | Erro ao conectar a E0:D3:62:D6:EE:A0: The requested operation has failed.
2026-01-04 16:00:49.532 | ERROR    | [OP-20260104_155752-0008] CONNECT_FAILED | Remote: E0:D3:62:D6:EE:A0 | Error: The requested operation has failed.
2026-01-04 16:00:49.534 | ERROR    | Falha ao conectar a E0:D3:62:D6:EE:A0 ap√≥s todas as tentativas
2026-01-04 16:00:49.537 | ERROR    | ‚ùå Falha ao conectar ao Sink
2026-01-04 16:01:11.303 | INFO     | Cliente :1.328 subscreveu notifica√ß√µes de pacotes
2026-01-04 16:01:11.394 | DEBUG    | DeviceInfo lida: NID=a40543fa..., hops=-1, type=0
2026-01-04 16:01:11.483 | INFO     | Cliente :1.328 subscreveu auth indications
2026-01-04 16:01:11.579 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 16:01:11.580 | DEBUG    | FragmentReassembler inicializado
2026-01-04 16:01:11.580 | DEBUG    | Criado reassembler para cliente :1.328
2026-01-04 16:01:11.581 | DEBUG    | Fragmento recebido: seq=0, total=5, payload=180 bytes, flags=0x01
2026-01-04 16:01:11.582 | INFO     | Iniciando recep√ß√£o de 5 fragmentos
2026-01-04 16:01:11.583 | DEBUG    | Fragmento 1/5 armazenado (1 de 5 recebidos)
2026-01-04 16:01:11.583 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 16:01:11.758 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 16:01:11.759 | DEBUG    | Fragmento recebido: seq=1, total=5, payload=180 bytes, flags=0x00
2026-01-04 16:01:11.759 | DEBUG    | Fragmento 2/5 armazenado (2 de 5 recebidos)
2026-01-04 16:01:11.760 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 16:01:11.984 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 16:01:11.984 | DEBUG    | Fragmento recebido: seq=2, total=5, payload=180 bytes, flags=0x00
2026-01-04 16:01:11.985 | DEBUG    | Fragmento 3/5 armazenado (3 de 5 recebidos)
2026-01-04 16:01:11.986 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 16:01:12.163 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 16:01:12.164 | DEBUG    | Fragmento recebido: seq=3, total=5, payload=180 bytes, flags=0x00
2026-01-04 16:01:12.164 | DEBUG    | Fragmento 4/5 armazenado (4 de 5 recebidos)
2026-01-04 16:01:12.165 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 16:01:12.344 | DEBUG    | Auth data recebida de :1.328: 173 bytes
2026-01-04 16:01:12.345 | DEBUG    | Fragmento recebido: seq=4, total=5, payload=170 bytes, flags=0x02
2026-01-04 16:01:12.345 | DEBUG    | Fragmento 5/5 armazenado (5 de 5 recebidos)
2026-01-04 16:01:12.346 | INFO     | ‚úÖ Mensagem reconstru√≠da: 890 bytes (5 fragmentos)
2026-01-04 16:01:12.347 | DEBUG    | FragmentReassembler resetado
2026-01-04 16:01:12.347 | INFO     | Mensagem completa recebida de :1.328: 890 bytes
2026-01-04 16:01:12.349 | INFO     | üîê Mensagem de autentica√ß√£o recebida de downlink (sender: :1.328)
2026-01-04 16:01:12.350 | WARNING  | ‚ö†Ô∏è  Autentica√ß√£o de downlinks n√£o totalmente implementada - usando placeholder
2026-01-04 16:01:12.363 | INFO     | üì§ Enviando resposta placeholder (autentica√ß√£o aceite sem valida√ß√£o)
2026-01-04 16:01:12.365 | DEBUG    | Mensagem pequena (1 bytes), 1 fragmento
2026-01-04 16:01:12.366 | DEBUG    | Enviando fragmento 1/1 da resposta
2026-01-04 16:01:12.368 | DEBUG    | Auth response indicada
2026-01-04 16:01:12.373 | DEBUG    | GetAll called on /org/bluez/iot/advertisement0
2026-01-04 16:01:12.373 | INFO     | üì° Advertising com ServiceUUIDs: ['12340000-0000-1000-8000-00805f9b34fb']
2026-01-04 16:01:12.377 | WARNING  | ‚ö†Ô∏è  Falha ao re-registar advertising: org.bluez.Error.Failed: Failed to register advertisement
2026-01-04 16:01:26.027 | INFO     | A parar Node...
2026-01-04 16:01:26.028 | INFO     | A parar GATT Server...
2026-01-04 16:01:26.031 | INFO     | ‚úÖ GATT Server parado
2026-01-04 16:01:26.033 | INFO     | ‚úÖ Node parado
