2026-01-04 15:46:47.462 | INFO     | BLE Operation Logger iniciado: ble_operations_5800E366747C_20260104_154647.log
2026-01-04 15:46:47.462 | INFO     | Scanner BLE iniciado: hci0 (58:00:E3:66:74:7C)
2026-01-04 15:46:47.463 | INFO     | BLE Client iniciado
2026-01-04 15:46:47.463 | DEBUG    | FragmentReassembler inicializado
2026-01-04 15:46:47.463 | INFO     | ReplayProtection iniciado (window_size=100)
2026-01-04 15:46:47.463 | INFO     | üîÄ Router Daemon inicializado para NID=a40543fa...
2026-01-04 15:46:47.464 | DEBUG    | ‚úÖ Send callback configurado
2026-01-04 15:46:47.464 | DEBUG    | ‚úÖ Handler registado para MessageType(1)
2026-01-04 15:46:47.464 | DEBUG    | ‚úÖ Handler registado para MessageType(2)
2026-01-04 15:46:47.464 | INFO     | IoT Node inicializado (adapter=hci0)
2026-01-04 15:46:47.464 | INFO     | ‚úÖ Router Daemon integrado
2026-01-04 15:46:47.465 | INFO     | A configurar GATT Server...
2026-01-04 15:46:47.467 | INFO     | Application criada: /
2026-01-04 15:46:47.467 | INFO     | Service criado: /0 (UUID: 12340000-0000-1000-8000-00805f9b34fb, primary: True)
2026-01-04 15:46:47.467 | INFO     | A criar IoTNetworkService...
2026-01-04 15:46:47.468 | DEBUG    | Characteristic criada: /0/char0 (UUID: 12340001-0000-1000-8000-00805f9b34fb, flags: ['write', 'notify'])
2026-01-04 15:46:47.468 | INFO     | NetworkPacketCharacteristic criada
2026-01-04 15:46:47.468 | DEBUG    | Characteristic criada: /0/char1 (UUID: 12340002-0000-1000-8000-00805f9b34fb, flags: ['read'])
2026-01-04 15:46:47.468 | INFO     | DeviceInfoCharacteristic criada: NID=a40543fa..., type=node
2026-01-04 15:46:47.469 | DEBUG    | Characteristic criada: /0/char2 (UUID: 12340003-0000-1000-8000-00805f9b34fb, flags: ['read', 'notify'])
2026-01-04 15:46:47.469 | INFO     | NeighborTableCharacteristic criada
2026-01-04 15:46:47.470 | DEBUG    | Characteristic criada: /0/char3 (UUID: 12340004-0000-1000-8000-00805f9b34fb, flags: ['write', 'indicate'])
2026-01-04 15:46:47.470 | INFO     | AuthCharacteristic criada
2026-01-04 15:46:47.471 | DEBUG    | Characteristic adicionada a /0: /0/char0
2026-01-04 15:46:47.471 | DEBUG    | Characteristic adicionada a /0: /0/char1
2026-01-04 15:46:47.471 | DEBUG    | Characteristic adicionada a /0: /0/char2
2026-01-04 15:46:47.471 | DEBUG    | Characteristic adicionada a /0: /0/char3
2026-01-04 15:46:47.471 | INFO     | ‚úÖ IoTNetworkService criado com sucesso!
2026-01-04 15:46:47.471 | INFO     | Service adicionado √† aplica√ß√£o: /0
2026-01-04 15:46:47.472 | DEBUG    | Packet callback definido
2026-01-04 15:46:47.472 | DEBUG    | Auth callback definido
2026-01-04 15:46:47.473 | INFO     | Advertisement criado: /org/bluez/iot/advertisement0 (type: peripheral)
2026-01-04 15:46:47.474 | INFO     | ‚úÖ Service UUID adicionado ao advertising: 12340000-0000-1000-8000-00805f9b34fb
2026-01-04 15:46:47.475 | INFO     |    Lista atual de UUIDs: ['12340000-0000-1000-8000-00805f9b34fb']
2026-01-04 15:46:47.475 | DEBUG    | Local name definido: IoT-Node-a40543fa
2026-01-04 15:46:47.475 | DEBUG    | Manufacturer data adicionado: ID=65535
2026-01-04 15:46:47.475 | INFO     | üîÑ Advertising cont√≠nuo configurado (duration=0)
2026-01-04 15:46:47.476 | INFO     | ‚úÖ GATT Server configurado
2026-01-04 15:46:47.476 | INFO     | A iniciar GATT Server...
2026-01-04 15:46:47.477 | INFO     | ‚úÖ GATT Server iniciado em thread separada
2026-01-04 15:46:47.478 | INFO     | ‚úÖ Node Device iniciado - CLI interativo pronto
2026-01-04 15:46:47.481 | DEBUG    | GetManagedObjects called
2026-01-04 15:46:47.481 | DEBUG    | GetManagedObjects returning 5 objects
2026-01-04 15:46:47.483 | INFO     | ‚úÖ GATT application registada!
2026-01-04 15:46:47.483 | DEBUG    | GetAll called on /org/bluez/iot/advertisement0
2026-01-04 15:46:47.484 | INFO     | üì° Advertising com ServiceUUIDs: ['12340000-0000-1000-8000-00805f9b34fb']
2026-01-04 15:46:47.586 | INFO     | ‚úÖ Advertisement registado!
2026-01-04 15:46:51.222 | INFO     | A fazer scan BLE durante 5000ms...
2026-01-04 15:46:51.224 | INFO     | [OP-20260104_154647-0001] SCAN_START | Duration: 5000ms | Filter_IoT: True
2026-01-04 15:46:56.441 | DEBUG    |   Encontrado: Unknown (E0:D3:62:D6:EE:A0) RSSI: -54 dBm
2026-01-04 15:46:56.442 | INFO     | Scan conclu√≠do: 1 dispositivos encontrados
2026-01-04 15:46:56.442 | INFO     | [OP-20260104_154647-0002] SCAN_RESULT | Devices_Found: 1
2026-01-04 15:46:56.442 | DEBUG    | [OP-20260104_154647-0002]   Device_1: Name: Unknown | Address: E0:D3:62:D6:EE:A0 | RSSI: -54 dBm | Services: 1
2026-01-04 15:46:56.443 | INFO     | A fazer scan BLE durante 5000ms...
2026-01-04 15:46:56.443 | INFO     | [OP-20260104_154647-0003] SCAN_START | Duration: 5000ms | Filter_IoT: True
2026-01-04 15:47:01.560 | INFO     | Scan conclu√≠do: 0 dispositivos encontrados
2026-01-04 15:47:01.562 | INFO     | [OP-20260104_154647-0004] SCAN_RESULT | Devices_Found: 0
2026-01-04 15:47:06.669 | INFO     | A conectar ao Sink E0:D3:62:D6:EE:A0...
2026-01-04 15:47:06.670 | DEBUG    | Peripheral E0:D3:62:D6:EE:A0 n√£o est√° em cache, fazendo scan r√°pido...
2026-01-04 15:47:08.779 | ERROR    | Dispositivo E0:D3:62:D6:EE:A0 n√£o encontrado mesmo ap√≥s scan
2026-01-04 15:47:08.781 | ERROR    | ‚ùå Falha ao conectar ao Sink
2026-01-04 15:47:18.379 | INFO     | A fazer scan BLE durante 5000ms...
2026-01-04 15:47:18.381 | INFO     | [OP-20260104_154647-0005] SCAN_START | Duration: 5000ms | Filter_IoT: True
2026-01-04 15:47:23.606 | DEBUG    |   Encontrado: Unknown (E0:D3:62:D6:EE:A0) RSSI: -50 dBm
2026-01-04 15:47:23.607 | INFO     | Scan conclu√≠do: 1 dispositivos encontrados
2026-01-04 15:47:23.609 | INFO     | [OP-20260104_154647-0006] SCAN_RESULT | Devices_Found: 1
2026-01-04 15:47:23.610 | DEBUG    | [OP-20260104_154647-0006]   Device_1: Name: Unknown | Address: E0:D3:62:D6:EE:A0 | RSSI: -50 dBm | Services: 1
2026-01-04 15:47:29.304 | INFO     | A conectar ao Sink E0:D3:62:D6:EE:A0...
2026-01-04 15:47:29.305 | DEBUG    | BLEConnection criada para E0:D3:62:D6:EE:A0
2026-01-04 15:47:29.306 | INFO     | A conectar a E0:D3:62:D6:EE:A0...
2026-01-04 15:47:29.307 | INFO     | [OP-20260104_154647-0007] CONNECT_ATTEMPT | Local: 58:00:E3:66:74:7C | Remote: E0:D3:62:D6:EE:A0
2026-01-04 15:47:55.715 | ERROR    | Erro ao conectar a E0:D3:62:D6:EE:A0: The requested operation has failed.
2026-01-04 15:47:55.717 | ERROR    | [OP-20260104_154647-0008] CONNECT_FAILED | Remote: E0:D3:62:D6:EE:A0 | Error: The requested operation has failed.
2026-01-04 15:47:55.718 | DEBUG    | Conex√£o falhou, tentando refresh do cache e retry...
2026-01-04 15:47:57.726 | ERROR    | Falha ao conectar a E0:D3:62:D6:EE:A0 ap√≥s todas as tentativas
2026-01-04 15:47:57.727 | ERROR    | ‚ùå Falha ao conectar ao Sink
2026-01-04 15:48:56.876 | INFO     | Cliente :1.328 subscreveu notifica√ß√µes de pacotes
2026-01-04 15:48:56.968 | DEBUG    | DeviceInfo lida: NID=a40543fa..., hops=-1, type=0
2026-01-04 15:48:57.056 | INFO     | Cliente :1.328 subscreveu auth indications
2026-01-04 15:48:57.151 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 15:48:57.152 | DEBUG    | FragmentReassembler inicializado
2026-01-04 15:48:57.152 | DEBUG    | Criado reassembler para cliente :1.328
2026-01-04 15:48:57.153 | DEBUG    | Fragmento recebido: seq=0, total=5, payload=180 bytes, flags=0x01
2026-01-04 15:48:57.153 | INFO     | Iniciando recep√ß√£o de 5 fragmentos
2026-01-04 15:48:57.155 | DEBUG    | Fragmento 1/5 armazenado (1 de 5 recebidos)
2026-01-04 15:48:57.156 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 15:48:57.331 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 15:48:57.332 | DEBUG    | Fragmento recebido: seq=1, total=5, payload=180 bytes, flags=0x00
2026-01-04 15:48:57.333 | DEBUG    | Fragmento 2/5 armazenado (2 de 5 recebidos)
2026-01-04 15:48:57.334 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 15:48:57.514 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 15:48:57.515 | DEBUG    | Fragmento recebido: seq=2, total=5, payload=180 bytes, flags=0x00
2026-01-04 15:48:57.516 | DEBUG    | Fragmento 3/5 armazenado (3 de 5 recebidos)
2026-01-04 15:48:57.516 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 15:48:57.691 | DEBUG    | Auth data recebida de :1.328: 183 bytes
2026-01-04 15:48:57.692 | DEBUG    | Fragmento recebido: seq=3, total=5, payload=180 bytes, flags=0x00
2026-01-04 15:48:57.692 | DEBUG    | Fragmento 4/5 armazenado (4 de 5 recebidos)
2026-01-04 15:48:57.693 | DEBUG    | Aguardando mais fragmentos de :1.328
2026-01-04 15:48:57.871 | DEBUG    | Auth data recebida de :1.328: 173 bytes
2026-01-04 15:48:57.871 | DEBUG    | Fragmento recebido: seq=4, total=5, payload=170 bytes, flags=0x02
2026-01-04 15:48:57.872 | DEBUG    | Fragmento 5/5 armazenado (5 de 5 recebidos)
2026-01-04 15:48:57.872 | INFO     | ‚úÖ Mensagem reconstru√≠da: 890 bytes (5 fragmentos)
2026-01-04 15:48:57.873 | DEBUG    | FragmentReassembler resetado
2026-01-04 15:48:57.873 | INFO     | Mensagem completa recebida de :1.328: 890 bytes
2026-01-04 15:48:57.873 | INFO     | üîê Mensagem de autentica√ß√£o recebida de downlink (sender: :1.328)
2026-01-04 15:48:57.874 | WARNING  | ‚ö†Ô∏è  Autentica√ß√£o de downlinks n√£o totalmente implementada - usando placeholder
2026-01-04 15:48:57.874 | WARNING  | ‚ö†Ô∏è  Erro ao re-registar advertising: name 'dbus' is not defined
2026-01-04 15:49:06.746 | INFO     | A parar Node...
2026-01-04 15:49:06.747 | INFO     | A parar GATT Server...
2026-01-04 15:49:06.751 | INFO     | ‚úÖ GATT Server parado
2026-01-04 15:49:06.753 | INFO     | ‚úÖ Node parado
